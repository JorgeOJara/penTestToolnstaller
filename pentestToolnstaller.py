import subprocess

def run_command(command):
    """Run a shell command and print the output."""
    try:
        result = subprocess.run(command, shell=True, check=True, text=True, capture_output=True)
        print(result.stdout)
    except subprocess.CalledProcessError as e:
        print(f"Error occurred: {e.stderr}")

def install_tools():
    # Update package lists
    run_command("apt-get update")
    
    # Install dependencies
    run_command("apt-get install -y git python")

    # Clone PenTesters Framework (PTF)
    run_command("git clone https://github.com/trustedsec/ptf /opt/ptf")

    # Navigate to the PTF directory
    run_command("cd /opt/ptf && ./ptf")
    
    # Install various modules
    modules = [
        "exploitation/install_update_all",
        "intelligence-gathering/install_update_all",
        "post-exploitation/install_update_all",
        "powershell/install_update_all",
        "vulnerability-analysis/install_update_all"
    ]
    
    for module in modules:
        run_command(f"use modules/{module}")

    # Change directory to /pentest
    run_command("cd /pentest")

if __name__ == "__main__":
    install_tools()
